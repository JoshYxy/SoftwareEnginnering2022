{"ast":null,"code":"// import axios from 'axios'\nimport { Edit } from '@element-plus/icons-vue';\nexport default {\n  name: 'EditableFormitem',\n  props: [\"data\", \"rule\"],\n  components: {\n    Edit\n  },\n\n  data() {\n    return {\n      rules: {\n        info: [{\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\n          message: '手机号码必须为1开头的符合规则的11位数字'\n        }]\n      },\n      buttonOn: false,\n      edit: false,\n      user: {\n        info: this.data\n      },\n      // info: this.data,\n      edited_info: this.data\n    };\n  },\n\n  methods: {\n    submit() {\n      //axios\n      this.$refs['user'].validate(valid => {\n        if (valid) {\n          this.edited_info = this.userData.info;\n          this.edit = false;\n        }\n      });\n    },\n\n    cancel() {\n      this.edit = false;\n      this.userData.info = this.edited_info;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+BA;AACA,SAAQA,IAAR,QAAmB,yBAAnB;AACA,eAAe;AACXC,MAAI,EAAE,kBADK;AAEXC,OAAK,EAAE,CAAC,MAAD,EAAS,MAAT,CAFI;AAGXC,YAAU,EAAC;AACPH;AADO,GAHA;;AAMXI,MAAI,GAAG;AACH,WAAO;AACHC,WAAK,EAAC;AACEC,YAAI,EAAC,CACD;AAACC,iBAAO,EAAE,0BAAV;AAAsCC,iBAAO,EAAE;AAA/C,SADC;AADP,OADH;AAKHC,cAAQ,EAAE,KALP;AAMHC,UAAI,EAAE,KANH;AAOHC,UAAI,EAAC;AACDL,YAAI,EAAC,KAAKF;AADT,OAPF;AAUH;AACAQ,iBAAW,EAAE,KAAKR;AAXf,KAAP;AAaH,GApBU;;AAqBXS,SAAO,EAAE;AACLC,UAAM,GAAG;AACL;AACA,WAAKC,KAAL,CAAW,MAAX,EAAmBC,QAAnB,CAA4BC,KAAI,IAAK;AACjC,YAAGA,KAAH,EAAS;AACL,eAAKL,WAAL,GAAiB,KAAKM,QAAL,CAAcZ,IAA/B;AACA,eAAKI,IAAL,GAAU,KAAV;AACJ;AACH,OALD;AAMH,KATI;;AAULS,UAAM,GAAG;AACL,WAAKT,IAAL,GAAU,KAAV;AACA,WAAKQ,QAAL,CAAcZ,IAAd,GAAmB,KAAKM,WAAxB;AACJ;;AAbK;AArBE,CAAf","names":["Edit","name","props","components","data","rules","info","pattern","message","buttonOn","edit","user","edited_info","methods","submit","$refs","validate","valid","userData","cancel"],"sourceRoot":"","sources":["D:\\fdu\\software_engineering\\Lab\\5-Lab\\front_end\\src\\components\\EditableFormitem.vue"],"sourcesContent":["<template>\r\n    <el-form\r\n    label-width=\"120px\"\r\n    :rules=\"rules\"\r\n    :model=\"user\"\r\n    ref=\"user\"\r\n    >\r\n    <el-form-item \r\n        label=\"电话\" \r\n        @mouseover=\"buttonOn=true\"\r\n        @mouseout=\"buttonOn=false\" \r\n        prop=\"info\" \r\n        >\r\n        <div class=\"data-container\">\r\n            <span class=\"span-container\" v-show=\"!edit\">{{edited_info}}</span>\r\n            <el-input v-show=\"edit\" v-model=\"user.info\"  />\r\n        </div>\r\n        <el-button v-show=\"buttonOn&&(!edit)\" type=\"text\" style=\"float:right\" @click=\"edit=true\"  >\r\n            编辑<el-icon class=\"el-icon--right\"><Edit /></el-icon>\r\n        </el-button>\r\n        <el-button v-show=\"edit\" type=\"text\" style=\"float:right\" @click=\"submit\">\r\n            提交\r\n        </el-button>\r\n        <el-button v-show=\"edit\" type=\"text\" style=\"float:right\" @click=\"cancel\">\r\n            取消\r\n        </el-button>\r\n    </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios'\r\nimport {Edit} from '@element-plus/icons-vue'\r\nexport default {\r\n    name: 'EditableFormitem',\r\n    props: [\"data\", \"rule\"],\r\n    components:{\r\n        Edit,\r\n    },\r\n    data() {\r\n        return {\r\n            rules:{\r\n                    info:[\r\n                        {pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/, message: '手机号码必须为1开头的符合规则的11位数字'}]\r\n            },\r\n            buttonOn: false,\r\n            edit: false,\r\n            user:{\r\n                info:this.data\r\n            },\r\n            // info: this.data,\r\n            edited_info: this.data,\r\n        }\r\n    },\r\n    methods: {\r\n        submit() {\r\n            //axios\r\n            this.$refs['user'].validate(valid => {\r\n                if(valid){\r\n                    this.edited_info=this.userData.info\r\n                    this.edit=false\r\n                }\r\n            })\r\n        },\r\n        cancel() {\r\n            this.edit=false\r\n            this.userData.info=this.edited_info\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.data-container{\r\n  min-width:200px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}