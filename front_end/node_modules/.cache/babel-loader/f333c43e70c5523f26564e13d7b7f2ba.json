{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, withKeys as _withKeys, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"login\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"login-title\"\n}, \"登录\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"登录\");\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"信息录入\", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"提交\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_form, {\n    class: \"login-container\",\n    ref: \"loginForm\",\n    model: $data.loginData,\n    autocomplete: \"on\",\n    \"label-position\": \"left\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createVNode(_component_el_form_item, {\n      prop: \"number\",\n      rules: [{\n        required: true,\n        message: '用户名不能为空'\n      }]\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        name: \"number\",\n        modelValue: $data.loginData.number,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.loginData.number = $event),\n        ref: \"number\",\n        placeholder: \"学号/工号\",\n        type: \"text\",\n        maxlength: \"40\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"password\",\n      rules: [{\n        required: true,\n        message: '密码不能为空'\n      }]\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        name: \"password\",\n        modelValue: $data.loginData.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loginData.password = $event),\n        placeholder: \"密码\",\n        type: \"password\",\n        maxlength: \"40\",\n        onKeydown: _withKeys($options.submit, [\"enter\"])\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\", \"onKeydown\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.submit\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\"]), _hoisted_4, _createVNode(_component_el_form, {\n    id: \"admin_container\",\n    ref: \"userData\",\n    model: _ctx.userData,\n    rules: _ctx.rules,\n    autocomplete: \"on\",\n    \"text-align:\": \"\",\n    center: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      prop: \"role\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: _ctx.userData.role,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.userData.role = $event),\n        placeholder: \"角色\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"学生\",\n          value: \"student\"\n        }), _createVNode(_component_el_option, {\n          label: \"教师\",\n          value: \"teacher\"\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"college\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        class: \"college\",\n        modelValue: _ctx.userData.college,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.userData.college = $event),\n        placeholder: \"学院\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.collegeData, colleges => {\n          return _openBlock(), _createBlock(_component_el_option, {\n            key: colleges.id,\n            value: colleges.name,\n            label: colleges.name\n          }, null, 8\n          /* PROPS */\n          , [\"value\", \"label\"]);\n        }), 128\n        /* KEYED_FRAGMENT */\n        ))]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"name\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        name: \"name\",\n        modelValue: _ctx.userData.name,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.userData.name = $event),\n        placeholder: \"姓名\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _ctx.userData.role === 'student' ? (_openBlock(), _createBlock(_component_el_form_item, {\n      key: 0,\n      prop: \"stu_id\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        name: \"stu_id\",\n        modelValue: _ctx.userData.stu_id,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.userData.stu_id = $event),\n        modelModifiers: {\n          number: true\n        },\n        placeholder: \"学号\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true), _ctx.userData.role === 'teacher' ? (_openBlock(), _createBlock(_component_el_form_item, {\n      key: 1,\n      prop: \"teach_id\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        name: \"teach_id\",\n        modelValue: _ctx.userData.teach_id,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.userData.teach_id = $event),\n        modelModifiers: {\n          number: true\n        },\n        placeholder: \"工号\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_form_item, {\n      prop: \"id\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        name: \"id\",\n        modelValue: _ctx.userData.id,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.userData.id = $event),\n        placeholder: \"身份证号\",\n        type: \"text\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"phone\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        name: \"phone\",\n        modelValue: _ctx.userData.phone,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.userData.phone = $event),\n        placeholder: \"手机号\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"email\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"text\",\n        name: \"email\",\n        modelValue: _ctx.userData.email,\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => _ctx.userData.email = $event),\n        placeholder: \"邮箱\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.submit\n      }, {\n        default: _withCtx(() => [_hoisted_5]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\", \"rules\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_el_form","ref","model","$data","autocomplete","_hoisted_2","_component_el_form_item","prop","rules","required","message","_component_el_input","name","number","$event","placeholder","type","maxlength","password","onKeydown","$options","_component_el_button","onClick","_hoisted_4","id","_ctx","center","_component_el_select","role","_component_el_option","label","value","college","_Fragment","_renderList","colleges","_createBlock","key","stu_id","teach_id","phone","email"],"sourceRoot":"","sources":["D:\\fdu\\software_engineering\\Lab\\5-Lab\\front_end\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <el-form class='login-container' ref=\"loginForm\" :model=\"loginData\" autocomplete=\"on\" label-position=\"left\">\r\n      <h2 class='login-title'>登录</h2>\r\n      <el-form-item\r\n        prop=\"number\"\r\n        :rules=\"[{ required: true, message: '用户名不能为空'}]\"\r\n      >\r\n        <el-input\r\n          name=\"number\"\r\n          v-model=\"loginData.number\"\r\n          ref=\"number\"\r\n          placeholder=\"学号/工号\"\r\n          type=\"text\"\r\n          maxlength=\"40\"\r\n        />\r\n      </el-form-item> \r\n      <el-form-item\r\n        prop=\"password\"\r\n        :rules=\"[{ required: true, message: '密码不能为空'}]\"\r\n      >\r\n        <el-input\r\n          name=\"password\"\r\n          v-model=\"loginData.password\"\r\n          placeholder=\"密码\"\r\n          type=\"password\"\r\n          maxlength=\"40\"\r\n          @keydown.enter=\"submit\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submit\">登录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <h1>信息录入</h1>\r\n    \r\n    <el-form id = \"admin_container\" ref=\"userData\" :model=\"userData\" :rules=\"rules\" autocomplete=\"on\"  text-align: center>\r\n      <el-form-item prop=\"role\">\r\n        <el-select v-model=\"userData.role\" placeholder=\"角色\">\r\n          <el-option label=\"学生\" value=\"student\"></el-option>\r\n          <el-option label=\"教师\" value=\"teacher\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item prop=\"college\">\r\n        <el-select class=college v-model=\"userData.college\" placeholder=\"学院\">\r\n          <el-option :key=\"colleges.id\" :value=\"colleges.name\" :label=\"colleges.name\" v-for=\"colleges in collegeData\" ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item prop=\"name\">\r\n        <el-input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          v-model=\"userData.name\"\r\n          placeholder=\"姓名\"\r\n        />\r\n      </el-form-item> \r\n\r\n      <el-form-item v-if=\"userData.role==='student'\" prop=\"stu_id\">\r\n        <el-input\r\n          type=\"text\"\r\n          name=\"stu_id\"\r\n          v-model.number=\"userData.stu_id\"\r\n          placeholder=\"学号\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item v-if=\"userData.role==='teacher'\" prop=\"teach_id\">\r\n        <el-input\r\n          type=\"text\"\r\n          name=\"teach_id\"\r\n          v-model.number=\"userData.teach_id\"\r\n          placeholder=\"工号\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item prop=\"id\">\r\n        <el-input\r\n          name=\"id\"\r\n          v-model=\"userData.id\"\r\n          placeholder=\"身份证号\"\r\n          type=\"text\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item prop=\"phone\">\r\n        <el-input\r\n          type=\"text\"\r\n          name=\"phone\"\r\n          v-model=\"userData.phone\"\r\n          placeholder=\"手机号\"\r\n        />\r\n      </el-form-item> \r\n\r\n      <el-form-item prop=\"email\">\r\n        <el-input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          v-model=\"userData.email\"\r\n          placeholder=\"邮箱\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submit\">提交</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'UserLogin',\r\n  data() {\r\n    return {\r\n      userToken: '',\r\n      loginData: {\r\n        number:null,\r\n        password:''\r\n      },\r\n    }\r\n  },\r\n  // this.axios({\r\n  //           method: 'post',\r\n  //           url: '/user/login',\r\n  //           data: _this.loginForm\r\n  //         })\r\n  methods: {\r\n     ...mapMutations(['changeLogin']),\r\n    submit() {\r\n      this.$refs['loginForm'].validate(valid => {\r\n        if(valid) {\r\n          // axios.post('http://localhost:8081/login', null,{params:this.loginData})\r\n          axios.post('http://localhost:8081/user', this.loginData)\r\n          .then(res => {\r\n            console.log(res);\r\n            alert('登陆成功');\r\n            this.userToken = res.headers.token;\r\n            // 将用户token保存到vuex中\r\n            this.changeLogin({ Authorization: this.userToken });//传参内容为一个对象\r\n            localStorage.setItem('role', res.headers.role)\r\n\r\n            if(this.loginData.password == '123456') {\r\n              alert('初次登录，请重置密码')\r\n              this.$router.push({path:\"/password\"})}\r\n            else this.$router.push({path:\"/home/welcome\"});\r\n          }).catch(error => {\r\n            alert('账号或密码错误!!');\r\n            console.dir(error);\r\n          });\r\n        }\r\n        else {\r\n          console.log('error submit');\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n\r\n.login-container {\r\n  border-radius: 15px;\r\n  background-clip: padding-box;\r\n  margin: 90px auto;\r\n  width: 350px;\r\n  padding: 35px 35px 15px 35px;\r\n  background-color: transparent;\r\n  /* background: #fff; */\r\n  border: 1px solid #eaeaea;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n}\r\n\r\n.login-title {\r\n  margin: 0px auto 40px auto;\r\n  text-align: center;\r\n  color: #505458;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}