{"ast":null,"code":"import { setCourseTime } from '../jsComponents/CourseSet';\nimport { ElMessage } from 'element-plus';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      dialogTableVisible: [false, false, false, false, false, false, false, false],\n      majorTableVisible: [false, false, false, false, false, false, false, false, false, false, false, false],\n      courseOpen: true,\n      courses: [{\n        courseId: 1,\n        courseName: '软件工程',\n        courseNum: 'SOFT220011',\n        classHours: '4',\n        credits: '4',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [1, 2, 3, 5, 6, 8, 10, 11, 12], [3], [], [], [], []],\n        building: 'H3',\n        roomNum: '301',\n        courseInfo: '123',\n        selected: '80',\n        capacity: '100',\n        type: 'normal'\n      }, {\n        courseId: 2,\n        courseName: '离散数学',\n        courseNum: 'SOFT220022',\n        classHours: '3',\n        credits: '5',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [], [], [3, 8], []],\n        building: 'HGX',\n        roomNum: '502',\n        courseInfo: '123',\n        selected: '100',\n        capacity: '100',\n        type: 'normal'\n      }],\n      selectedCourses: [{\n        courseId: 1,\n        courseName: '软件',\n        courseNum: 'SOFT220011',\n        classHours: '4',\n        credits: '4',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [1, 2, 3, 5, 6, 8, 10, 11, 12], [3], [], [], [], []],\n        building: 'H3',\n        roomNum: '301',\n        courseInfo: '123',\n        selected: '80',\n        capacity: '100',\n        type: 'normal'\n      }, {\n        courseId: 2,\n        courseName: '数学',\n        courseNum: 'SOFT220022',\n        classHours: '3',\n        credits: '5',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [], [], [3, 8], []],\n        building: 'HGX',\n        roomNum: '502',\n        courseInfo: '123',\n        selected: '100',\n        capacity: '100',\n        type: 'normal'\n      }],\n      studiedCourses: [{\n        courseId: 1,\n        courseName: '软件',\n        courseNum: 'SOFT220011',\n        classHours: '4',\n        credits: '4',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [1, 2, 3, 5, 6, 8, 10, 11, 12], [3], [], [], [], []],\n        building: 'H3',\n        roomNum: '301',\n        courseInfo: '123',\n        commonCourse: '专业课程',\n        majors: [[\"计算机科学技术学院\", \"大数据\"], [\"计算机科学技术学院\", \"信息安全\"], ['软件工程学院', '软件工程']],\n        year: '2021-2022',\n        semester: '春'\n      }, {\n        courseId: 2,\n        courseName: '数学',\n        courseNum: 'SOFT220022',\n        classHours: '3',\n        credits: '5',\n        courseTime: '',\n        collegeId: '',\n        collegeName: '计算机与技术学院',\n        times: [[], [], [], [3, 8], []],\n        building: 'HGX',\n        roomNum: '502',\n        courseInfo: '123',\n        commonCourse: '通选课程',\n        majors: [],\n        year: '2020-2021',\n        semester: '秋'\n      }]\n    };\n  },\n\n  methods: {\n    handleClick(tab, event) {\n      console.log(tab, event);\n\n      if (tab.props.name == 'available') {\n        //axios获取可选课程\n        console.log(1);\n      }\n\n      if (tab.props.name == 'selected') {\n        //axios获取已选课程\n        console.log(2);\n      }\n\n      if (tab.props.name == 'studied') {\n        //axios获取已修课程\n        console.log(3);\n      }\n    },\n\n    selectCourse(index) {\n      // this.selectedCourses.push(this.courses[index])\n      this.courses.splice(index, 1);\n      ElMessage({\n        type: 'success',\n        message: '选课成功！'\n      });\n    },\n\n    quitCourse(index) {\n      this.courses.push(this.selectedCourses[index]); // this.selectedCourses.splice(index,1) \n\n      ElMessage({\n        type: 'success',\n        message: '退课成功'\n      });\n    }\n\n  },\n\n  async created() {\n    axios.get('http://localhost:8081/user/curriculaVariable').then(res => {\n      this.courseOpen = res.data.data1;\n    }).catch(error => {\n      console.dir(error);\n    });\n    await axios.get('http://localhost:8081/student/course').then(res => {\n      this.courses = res.data.data1;\n    });\n\n    for (let course of this.courses) {\n      this.dialogTableVisible.push(false);\n      course.courseTime = '';\n      setCourseTime(course, course.times);\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAqLA,SAAQA,aAAR,QAA4B,2BAA5B;AACA,SAASC,SAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;AACXC,MAAI,GAAG;AACH,WAAO;AACHC,wBAAkB,EAAC,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,KAArC,EAA2C,KAA3C,CADhB;AAEHC,uBAAiB,EAAC,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,KAArC,EAA2C,KAA3C,EAAiD,KAAjD,EAAuD,KAAvD,EAA6D,KAA7D,EAAmE,KAAnE,CAFf;AAGHC,gBAAU,EAAE,IAHT;AAIHC,aAAO,EAAE,CACL;AACIC,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,MAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAFG,EAGH,CAAC,CAAD,CAHG,EAIH,EAJG,EAKH,EALG,EAMH,EANG,EAOH,EAPG,CATX;AAkBIC,gBAAQ,EAAE,IAlBd;AAmBIC,eAAO,EAAE,KAnBb;AAoBIC,kBAAU,EAAE,KApBhB;AAqBIC,gBAAQ,EAAE,IArBd;AAsBIC,gBAAQ,EAAE,KAtBd;AAuBIC,YAAI,EAAE;AAvBV,OADK,EA0BL;AACId,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,MAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,EAFG,EAGH,EAHG,EAIH,CAAC,CAAD,EAAG,CAAH,CAJG,EAKH,EALG,CATX;AAgBIC,gBAAQ,EAAE,KAhBd;AAiBIC,eAAO,EAAE,KAjBb;AAkBIC,kBAAU,EAAE,KAlBhB;AAmBIC,gBAAQ,EAAE,KAnBd;AAoBIC,gBAAQ,EAAE,KApBd;AAqBIC,YAAI,EAAE;AArBV,OA1BK,CAJN;AAsDHC,qBAAe,EAAE,CACb;AACIf,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,IAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAFG,EAGH,CAAC,CAAD,CAHG,EAIH,EAJG,EAKH,EALG,EAMH,EANG,EAOH,EAPG,CATX;AAkBIC,gBAAQ,EAAE,IAlBd;AAmBIC,eAAO,EAAE,KAnBb;AAoBIC,kBAAU,EAAE,KApBhB;AAqBIC,gBAAQ,EAAE,IArBd;AAsBIC,gBAAQ,EAAE,KAtBd;AAuBIC,YAAI,EAAE;AAvBV,OADa,EA0Bb;AACId,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,IAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,EAFG,EAGH,EAHG,EAIH,CAAC,CAAD,EAAG,CAAH,CAJG,EAKH,EALG,CATX;AAgBIC,gBAAQ,EAAE,KAhBd;AAiBIC,eAAO,EAAE,KAjBb;AAkBIC,kBAAU,EAAE,KAlBhB;AAmBIC,gBAAQ,EAAE,KAnBd;AAoBIC,gBAAQ,EAAE,KApBd;AAqBIC,YAAI,EAAE;AArBV,OA1Ba,CAtDd;AAwGHE,oBAAc,EAAE,CACZ;AACIhB,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,IAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAFG,EAGH,CAAC,CAAD,CAHG,EAIH,EAJG,EAKH,EALG,EAMH,EANG,EAOH,EAPG,CATX;AAkBIC,gBAAQ,EAAE,IAlBd;AAmBIC,eAAO,EAAE,KAnBb;AAoBIC,kBAAU,EAAE,KApBhB;AAqBIM,oBAAY,EAAE,MArBlB;AAsBIC,cAAM,EAAE,CACI,CAAC,WAAD,EAAa,KAAb,CADJ,EAEI,CAAC,WAAD,EAAa,MAAb,CAFJ,EAGI,CAAC,QAAD,EAAU,MAAV,CAHJ,CAtBZ;AA2BIC,YAAI,EAAC,WA3BT;AA4BIC,gBAAQ,EAAC;AA5Bb,OADY,EA+BZ;AACIpB,gBAAQ,EAAE,CADd;AAEIC,kBAAU,EAAE,IAFhB;AAGIC,iBAAS,EAAE,YAHf;AAIIC,kBAAU,EAAE,GAJhB;AAKIC,eAAO,EAAE,GALb;AAMIC,kBAAU,EAAC,EANf;AAOIC,iBAAS,EAAE,EAPf;AAQIC,mBAAW,EAAE,UARjB;AASIC,aAAK,EAAE,CACH,EADG,EAEH,EAFG,EAGH,EAHG,EAIH,CAAC,CAAD,EAAG,CAAH,CAJG,EAKH,EALG,CATX;AAgBIC,gBAAQ,EAAE,KAhBd;AAiBIC,eAAO,EAAE,KAjBb;AAkBIC,kBAAU,EAAE,KAlBhB;AAmBIM,oBAAY,EAAE,MAnBlB;AAoBIC,cAAM,EAAE,EApBZ;AAqBIC,YAAI,EAAC,WArBT;AAsBIC,gBAAQ,EAAC;AAtBb,OA/BY;AAxGb,KAAP;AAiKH,GAnKU;;AAoKXC,SAAO,EAAE;AACLC,eAAW,CAACC,GAAD,EAAMC,KAAN,EAAa;AACpBC,aAAO,CAACC,GAAR,CAAYH,GAAZ,EAAgBC,KAAhB;;AACA,UAAGD,GAAG,CAACI,KAAJ,CAAUC,IAAV,IAAkB,WAArB,EAAiC;AAC7B;AACAH,eAAO,CAACC,GAAR,CAAY,CAAZ;AACJ;;AACA,UAAGH,GAAG,CAACI,KAAJ,CAAUC,IAAV,IAAkB,UAArB,EAAiC;AAC7B;AACAH,eAAO,CAACC,GAAR,CAAY,CAAZ;AACJ;;AACA,UAAGH,GAAG,CAACI,KAAJ,CAAUC,IAAV,IAAkB,SAArB,EAAgC;AAC5B;AACAH,eAAO,CAACC,GAAR,CAAY,CAAZ;AACJ;AACH,KAfI;;AAgBLG,gBAAY,CAACC,KAAD,EAAQ;AAChB;AACA,WAAK/B,OAAL,CAAagC,MAAb,CAAoBD,KAApB,EAA0B,CAA1B;AACArC,eAAS,CAAC;AACNqB,YAAI,EAAE,SADA;AAENkB,eAAO,EAAE;AAFH,OAAD,CAAT;AAIH,KAvBI;;AAwBLC,cAAU,CAACH,KAAD,EAAQ;AACd,WAAK/B,OAAL,CAAamC,IAAb,CAAkB,KAAKnB,eAAL,CAAqBe,KAArB,CAAlB,EADc,CAEd;;AACArC,eAAS,CAAC;AACNqB,YAAI,EAAE,SADA;AAENkB,eAAO,EAAE;AAFH,OAAD,CAAT;AAIJ;;AA/BK,GApKE;;AAqMX,QAAMG,OAAN,GAAgB;AACZzC,SAAK,CAAC0C,GAAN,CAAU,8CAAV,EACCC,IADD,CACMC,GAAE,IAAK;AACT,WAAKxC,UAAL,GAAkBwC,GAAG,CAAC3C,IAAJ,CAAS4C,KAA3B;AACH,KAHD,EAICC,KAJD,CAIOC,KAAI,IAAK;AACZhB,aAAO,CAACiB,GAAR,CAAYD,KAAZ;AACH,KAND;AAOA,UAAM/C,KAAK,CAAC0C,GAAN,CAAU,sCAAV,EACLC,IADK,CACAC,GAAE,IAAK;AACT,WAAKvC,OAAL,GAAeuC,GAAG,CAAC3C,IAAJ,CAAS4C,KAAxB;AACH,KAHK,CAAN;;AAIA,SAAI,IAAII,MAAR,IAAkB,KAAK5C,OAAvB,EAAgC;AAC5B,WAAKH,kBAAL,CAAwBsC,IAAxB,CAA6B,KAA7B;AACAS,YAAM,CAACtC,UAAP,GAAoB,EAApB;AACAb,mBAAa,CAACmD,MAAD,EAASA,MAAM,CAACnC,KAAhB,CAAb;AACJ;AACJ;;AAtNW,CAAf","names":["setCourseTime","ElMessage","axios","data","dialogTableVisible","majorTableVisible","courseOpen","courses","courseId","courseName","courseNum","classHours","credits","courseTime","collegeId","collegeName","times","building","roomNum","courseInfo","selected","capacity","type","selectedCourses","studiedCourses","commonCourse","majors","year","semester","methods","handleClick","tab","event","console","log","props","name","selectCourse","index","splice","message","quitCourse","push","created","get","then","res","data1","catch","error","dir","course"],"sourceRoot":"","sources":["D:\\fdu\\software_engineering\\Lab\\5-Lab\\front_end\\src\\components\\course\\StudentCourse.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"!courseOpen\"> <h2>选课时间未到</h2></div>\r\n    <div v-if=\"courseOpen\">\r\n        <el-tabs type=\"border-card\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"可选课程\" name=\"available\">\r\n                <h2>可选课程</h2>\r\n                <!-- <el-button @click=\"test\">test </el-button> -->\r\n                <el-table class=\"class-table\" :data=\"courses\" max-height=\"500px\">\r\n                    <el-table-column fixed prop=\"courseName\" label=\"课程名\" width=\"150\" />\r\n                    <el-table-column fixed prop=\"courseNum\" label=\"课程编号\" width=\"140\" />\r\n                    <el-table-column prop=\"collegeName\" label=\"开课院系\" width=\"180\" />\r\n                    <el-table-column prop=\"teacherName\" label=\"课程教师姓名\" width=\"120\" />\r\n                    <el-table-column prop=\"commonCourse\" label=\"课程类型\" width=\"180\">\r\n                        <template #default=\"scope\">\r\n                            <div v-if=\"scope.row.commonCourse == '通选课程'\">通选课程</div>\r\n                            <div v-if=\"scope.row.commonCourse == '专业课程'\">\r\n                                <span style=\"padding-right:10px\">专业课程</span>\r\n                                <el-button type=\"text\" @click=\"majorTableVisible[scope.$index] = true\">查看专业</el-button>\r\n                                <el-dialog v-model=\"majorTableVisible[scope.$index]\" title=\"课程可选专业\" :append-to-body=\"true\">\r\n                                    <div v-for=\"major in courses[scope.$index].majors\" :key=\"major\">\r\n                                        {{major[1]}} ({{major[0]}})\r\n                                    </div>\r\n                                </el-dialog>\r\n                            </div>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"classHours\" label=\"学时\" width=\"60\" />\r\n                    <el-table-column prop=\"credits\" label=\"学分\" width=\"60\" />\r\n                    <el-table-column prop=\"building,roomNum\" label=\"上课地点\" width=\"80\" >\r\n                        <template #default=\"scope\">\r\n                            {{scope.row.building}}{{scope.row.roomNum}}\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"courseTime\" label=\"上课时间\" width=\"180\" />\r\n                    <el-table-column prop=\"capacity,selected\" label=\"选课人数\" width=\"150\">\r\n                        <template #default=\"scope\">\r\n                            {{scope.row.selected}}/{{scope.row.capacity}}\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"courseInfo\" label=\"介绍\" width=\"150\" >\r\n                        <template #default=\"scope\">\r\n                            <el-button type=\"text\" @click=\"dialogTableVisible[scope.$index] = true\">查看详情</el-button>\r\n                            <el-dialog v-model=\"dialogTableVisible[scope.$index]\" title=\"课程介绍\" :append-to-body=\"true\">\r\n                            {{scope.row.courseInfo}}\r\n                            </el-dialog>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\r\n                        <template #default=\"scope\">\r\n                            <el-button @click=\"selectCourse(scope.$index)\">选课</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>  \r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"已选课程\" name=\"selected\">\r\n                <h2>已选课程</h2>\r\n                <!-- <el-button @click=\"test\">test </el-button> -->\r\n                <el-table class=\"class-table\" :data=\"selectedCourses\"  max-height=\"500px\">\r\n                    <el-table-column fixed prop=\"courseName\" label=\"课程名\" width=\"150\" />\r\n                    <el-table-column fixed prop=\"courseNum\" label=\"课程编号\" width=\"140\" />\r\n                    <el-table-column prop=\"collegeName\" label=\"开课院系\" width=\"180\" />\r\n                    <el-table-column prop=\"teacherName\" label=\"课程教师姓名\" width=\"120\" />\r\n                    <el-table-column prop=\"commonCourse\" label=\"课程类型\" width=\"180\">\r\n                        <template #default=\"scope\">\r\n                            <div v-if=\"scope.row.commonCourse == '通选课程'\">通选课程</div>\r\n                            <div v-if=\"scope.row.commonCourse == '专业课程'\">\r\n                                <span style=\"padding-right:10px\">专业课程</span>\r\n                                <el-button type=\"text\" @click=\"majorTableVisible[scope.$index] = true\">查看专业</el-button>\r\n                                <el-dialog v-model=\"majorTableVisible[scope.$index]\" title=\"课程可选专业\" :append-to-body=\"true\">\r\n                                    <div v-for=\"major in courses[scope.$index].majors\" :key=\"major\">\r\n                                        {{major[1]}} ({{major[0]}})\r\n                                    </div>\r\n                                </el-dialog>\r\n                            </div>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"classHours\" label=\"学时\" width=\"60\" />\r\n                    <el-table-column prop=\"credits\" label=\"学分\" width=\"60\" />\r\n                    <el-table-column prop=\"building,roomNum\" label=\"上课地点\" width=\"80\" >\r\n                        <template #default=\"scope\">\r\n                            {{scope.row.building}}{{scope.row.roomNum}}\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"courseTime\" label=\"上课时间\" width=\"180\" />\r\n                    <el-table-column prop=\"capacity,selected\" label=\"选课人数\" width=\"150\">\r\n                        <template #default=\"scope\">\r\n                            {{scope.row.selected}}/{{scope.row.capacity}}\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"courseInfo\" label=\"介绍\" width=\"150\" >\r\n                        <template #default=\"scope\">\r\n                            <el-button type=\"text\" @click=\"dialogTableVisible[scope.$index] = true\">查看详情</el-button>\r\n                            <el-dialog v-model=\"dialogTableVisible[scope.$index]\" title=\"课程介绍\" :append-to-body=\"true\">\r\n                            {{scope.row.courseInfo}}\r\n                            </el-dialog>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\r\n                        <template #default=\"scope\">\r\n                            <el-button @click=\"quitCourse(scope.$index)\">退课</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table> \r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"已修课程\" name=\"studied\">\r\n                    <h2>已修课程</h2>\r\n                    <el-table class=\"class-table\" :data=\"studiedCourses\" max-height=\"500px\">\r\n                        <el-table-column fixed prop=\"courseName\" label=\"课程名\" width=\"150\" />\r\n                        <el-table-column fixed prop=\"courseNum\" label=\"课程编号\" width=\"140\" />\r\n                        <el-table-column prop=\"year,semester\" label=\"修读学期\" width=\"180\"\r\n                            :filter-multiple=\"true\"\r\n                            :filters=\"yearFilters\"\r\n                            :filter-method=\"filterYear\">\r\n                            <template #default=\"scope\">\r\n                                {{scope.row.year}}{{scope.row.semester}}\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"collegeName\" label=\"开课院系\" width=\"180\" />\r\n                        <el-table-column prop=\"teacherName\" label=\"课程教师姓名\" width=\"120\" />\r\n                        <el-table-column prop=\"commonCourse\" label=\"课程类型\" width=\"180\">\r\n                            <template #default=\"scope\">\r\n                                <div v-if=\"scope.row.commonCourse == '通选课程'\">通选课程</div>\r\n                                <div v-if=\"scope.row.commonCourse == '专业课程'\">\r\n                                    <span style=\"padding-right:10px\">专业课程</span>\r\n                                    <el-button type=\"text\" @click=\"majorTableVisible[scope.$index] = true\">查看专业</el-button>\r\n                                    <el-dialog v-model=\"majorTableVisible[scope.$index]\" title=\"课程可选专业\" :append-to-body=\"true\">\r\n                                        <div v-for=\"major in courses[scope.$index].majors\" :key=\"major\">\r\n                                            {{major[1]}} ({{major[0]}})\r\n                                        </div>\r\n                                    </el-dialog>\r\n                                </div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"classHours\" label=\"学时\" width=\"60\" />\r\n                        <el-table-column prop=\"credits\" label=\"学分\" width=\"60\" />\r\n                        <el-table-column prop=\"building,roomNum\" label=\"上课地点\" width=\"100\" \r\n                            column-key=\"room\"\r\n                            :filter-multiple=\"true\"\r\n                            :filters=\"roomFilters\"\r\n                            :filter-method=\"filterRoom\">\r\n                            <template #default=\"scope\">\r\n                                {{scope.row.building}}{{scope.row.roomNum}}\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"courseTime\" label=\"上课时间\" width=\"180\">\r\n                            <template #header>\r\n                                <el-popover class=\"time-pop\" placement=\"bottom-start\" v-model:visible=\"popVisible\">\r\n                                    <template #reference>\r\n                                        <span class=\"course-time\">上课时间<el-icon @click=\"popVisible = !popVisible\"><arrow-down /></el-icon></span>\r\n                                    </template>\r\n                                    <el-scrollbar max-height=\"200px\">\r\n                                        <el-tree\r\n                                            style=\"margin:auto;\"\r\n                                            :data=\"timeFilters\"\r\n                                            show-checkbox\r\n                                            accordion\r\n                                            highlight-current\r\n                                        />\r\n                                    </el-scrollbar>\r\n                                    <div class=\"el-table-filter__bottom\">\r\n                                        <el-button size=\"small\" @click=\"filterTime\">确认</el-button>\r\n                                    </div>\r\n                                </el-popover>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"courseInfo\" label=\"介绍\" width=\"150\" >\r\n                            <template #default=\"scope\">\r\n                                <el-button type=\"text\" @click=\"dialogTableVisible[scope.$index] = true\">查看详情</el-button>\r\n                                <el-dialog v-model=\"dialogTableVisible[scope.$index]\" title=\"课程介绍\" :append-to-body=\"true\">\r\n                                {{scope.row.courseInfo}}\r\n                                </el-dialog>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>  \r\n            </el-tab-pane>\r\n        </el-tabs>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {setCourseTime} from '../jsComponents/CourseSet'\r\nimport { ElMessage} from 'element-plus'\r\nimport axios from 'axios'\r\nexport default {\r\n    data() {\r\n        return {\r\n            dialogTableVisible:[false,false,false,false,false,false,false,false,],\r\n            majorTableVisible:[false,false,false,false,false,false,false,false,false,false,false,false,],\r\n            courseOpen: true,\r\n            courses: [\r\n                {\r\n                    courseId: 1,\r\n                    courseName: '软件工程',\r\n                    courseNum: 'SOFT220011',\r\n                    classHours: '4',\r\n                    credits: '4',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [1,2,3,5,6,8,10,11,12],\r\n                        [3],\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        []\r\n                    ],\r\n                    building: 'H3',\r\n                    roomNum: '301',\r\n                    courseInfo: '123',\r\n                    selected: '80',\r\n                    capacity: '100',\r\n                    type: 'normal',\r\n                },\r\n                {\r\n                    courseId: 2,\r\n                    courseName: '离散数学',\r\n                    courseNum: 'SOFT220022',\r\n                    classHours: '3',\r\n                    credits: '5',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        [3,8],\r\n                        []\r\n                    ],\r\n                    building: 'HGX',\r\n                    roomNum: '502',\r\n                    courseInfo: '123',\r\n                    selected: '100',\r\n                    capacity: '100',\r\n                    type: 'normal',\r\n                }\r\n            ],\r\n            selectedCourses: [\r\n                {\r\n                    courseId: 1,\r\n                    courseName: '软件',\r\n                    courseNum: 'SOFT220011',\r\n                    classHours: '4',\r\n                    credits: '4',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [1,2,3,5,6,8,10,11,12],\r\n                        [3],\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        []\r\n                    ],\r\n                    building: 'H3',\r\n                    roomNum: '301',\r\n                    courseInfo: '123',\r\n                    selected: '80',\r\n                    capacity: '100',\r\n                    type: 'normal',\r\n                },\r\n                {\r\n                    courseId: 2,\r\n                    courseName: '数学',\r\n                    courseNum: 'SOFT220022',\r\n                    classHours: '3',\r\n                    credits: '5',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        [3,8],\r\n                        []\r\n                    ],\r\n                    building: 'HGX',\r\n                    roomNum: '502',\r\n                    courseInfo: '123',\r\n                    selected: '100',\r\n                    capacity: '100',\r\n                    type: 'normal',\r\n                }\r\n            ],\r\n            studiedCourses: [\r\n                {\r\n                    courseId: 1,\r\n                    courseName: '软件',\r\n                    courseNum: 'SOFT220011',\r\n                    classHours: '4',\r\n                    credits: '4',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [1,2,3,5,6,8,10,11,12],\r\n                        [3],\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        []\r\n                    ],\r\n                    building: 'H3',\r\n                    roomNum: '301',\r\n                    courseInfo: '123',\r\n                    commonCourse: '专业课程',\r\n                    majors: [\r\n                                [\"计算机科学技术学院\",\"大数据\"],\r\n                                [\"计算机科学技术学院\",\"信息安全\"],\r\n                                ['软件工程学院','软件工程']\r\n                            ],\r\n                    year:'2021-2022',\r\n                    semester:'春'\r\n                },\r\n                {\r\n                    courseId: 2,\r\n                    courseName: '数学',\r\n                    courseNum: 'SOFT220022',\r\n                    classHours: '3',\r\n                    credits: '5',\r\n                    courseTime:'',\r\n                    collegeId: '',\r\n                    collegeName: '计算机与技术学院',\r\n                    times: [\r\n                        [],\r\n                        [],\r\n                        [],\r\n                        [3,8],\r\n                        []\r\n                    ],\r\n                    building: 'HGX',\r\n                    roomNum: '502',\r\n                    courseInfo: '123',\r\n                    commonCourse: '通选课程',\r\n                    majors: [],\r\n                    year:'2020-2021',\r\n                    semester:'秋'\r\n                }\r\n            ],\r\n        }\r\n    },\r\n    methods: {\r\n        handleClick(tab, event) {\r\n            console.log(tab,event)\r\n            if(tab.props.name == 'available'){\r\n                //axios获取可选课程\r\n                console.log(1)\r\n            }\r\n            if(tab.props.name == 'selected') {\r\n                //axios获取已选课程\r\n                console.log(2)\r\n            }\r\n            if(tab.props.name == 'studied') {\r\n                //axios获取已修课程\r\n                console.log(3)\r\n            }\r\n        },\r\n        selectCourse(index) {\r\n            // this.selectedCourses.push(this.courses[index])\r\n            this.courses.splice(index,1)\r\n            ElMessage({\r\n                type: 'success',\r\n                message: '选课成功！',\r\n            })\r\n        },\r\n        quitCourse(index) {\r\n            this.courses.push(this.selectedCourses[index])\r\n            // this.selectedCourses.splice(index,1) \r\n            ElMessage({\r\n                type: 'success',\r\n                message: '退课成功',\r\n            })\r\n        }\r\n    },\r\n    async created() {\r\n        axios.get('http://localhost:8081/user/curriculaVariable')\r\n        .then(res => {\r\n            this.courseOpen = res.data.data1\r\n        })\r\n        .catch(error => {\r\n            console.dir(error)\r\n        })\r\n        await axios.get('http://localhost:8081/student/course')\r\n        .then(res => {\r\n            this.courses = res.data.data1\r\n        })\r\n        for(let course of this.courses) {\r\n            this.dialogTableVisible.push(false)\r\n            course.courseTime = ''\r\n            setCourseTime(course, course.times)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}