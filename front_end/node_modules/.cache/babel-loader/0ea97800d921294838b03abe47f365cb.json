{"ast":null,"code":"// eslint-disable-next-line \nimport EditableFormitem from './EditableFormitem.vue';\nimport { Edit } from '@element-plus/icons-vue';\nexport default {\n  components: {\n    EditableFormitem,\n    Edit\n  },\n  name: 'PrivateinfoMaintnce',\n\n  data() {\n    return {\n      phoneRules: {\n        info: [{\n          pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\n          message: '手机号码必须为1开头的符合规则的11位数字'\n        }]\n      },\n      emailRules: {\n        info: [{\n          pattern: /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/,\n          message: '邮箱地址不符合规则'\n        }]\n      },\n      buttonOn: false,\n      phoneEdit: false,\n      // checkPassword: '',\n      dialogFormVisible: false,\n      userPassword: {\n        password: '',\n        checkPassword: ''\n      },\n      userData: {\n        number: 220001,\n        role: 'student',\n        name: '张晓王',\n        id: '310111200201553211',\n        phone: '13301182222',\n        email: '123@qq.com',\n        stu_id: null,\n        teach_id: null,\n        password: '123456',\n        major: '软件工程班',\n        college: {\n          id: 1,\n          name: '计算机科学技术学院',\n          major: [{\n            id: 1,\n            name: '大数据'\n          }, {\n            id: 2,\n            name: '信息安全'\n          }]\n        }\n      }\n    };\n  },\n\n  methods: {\n    editPassword() {\n      this.userPassword.password = '';\n      this.userPassword.checkPassword = '';\n      this.dialogFormVisible = true;\n    },\n\n    submitPassword() {\n      this.$refs['userPassword'].validate(valid => {\n        if (valid) {\n          this.dialogFormVisible = false; //axios\n\n          this.userData.password = this.userPassword.password;\n        }\n      });\n    }\n\n  } // created: {\n  // }\n\n};","map":{"version":3,"mappings":"AA+DA;AACA,OAAOA,gBAAP,MAA6B,wBAA7B;AACA,SAAQC,IAAR,QAAmB,yBAAnB;AACA,eAAe;AACbC,YAAU,EAAC;AACTF,oBADS;AAETC;AAFS,GADE;AAKbE,MAAI,EAAE,qBALO;;AAMbC,MAAI,GAAG;AACL,WAAO;AACLC,gBAAU,EAAC;AAACC,YAAI,EAAC,CAAC;AAACC,iBAAO,EAAE,0BAAV;AAAsCC,iBAAO,EAAE;AAA/C,SAAD;AAAN,OADN;AAELC,gBAAU,EAAC;AAACH,YAAI,EAAC,CAAC;AAACC,iBAAO,EAAE,iEAAV;AAA6EC,iBAAO,EAAE;AAAtF,SAAD;AAAN,OAFN;AAGLE,cAAQ,EAAE,KAHL;AAILC,eAAS,EAAE,KAJN;AAKL;AACAC,uBAAiB,EAAE,KANd;AAOLC,kBAAY,EAAE;AACZC,gBAAQ,EAAE,EADE;AAEZC,qBAAa,EAAE;AAFH,OAPT;AAWLC,cAAQ,EAAE;AACRC,cAAM,EAAE,MADA;AAERC,YAAI,EAAE,SAFE;AAGRf,YAAI,EAAE,KAHE;AAIRgB,UAAE,EAAE,oBAJI;AAKRC,aAAK,EAAE,aALC;AAMRC,aAAK,EAAE,YANC;AAORC,cAAM,EAAE,IAPA;AAQRC,gBAAQ,EAAE,IARF;AASRT,gBAAQ,EAAE,QATF;AAURU,aAAK,EAAE,OAVC;AAWRC,eAAO,EAAE;AACHN,YAAE,EAAE,CADD;AAEHhB,cAAI,EAAE,WAFH;AAGHqB,eAAK,EAAE,CACH;AAACL,cAAE,EAAE,CAAL;AAAQhB,gBAAI,EAAE;AAAd,WADG,EAEH;AAACgB,cAAE,EAAE,CAAL;AAAQhB,gBAAI,EAAE;AAAd,WAFG;AAHJ;AAXD;AAXL,KAAP;AAgCD,GAvCY;;AAwCbuB,SAAO,EAAE;AACPC,gBAAY,GAAG;AACb,WAAKd,YAAL,CAAkBC,QAAlB,GAA2B,EAA3B;AACA,WAAKD,YAAL,CAAkBE,aAAlB,GAAgC,EAAhC;AACA,WAAKH,iBAAL,GAAuB,IAAvB;AACD,KALM;;AAMPgB,kBAAc,GAAG;AACf,WAAKC,KAAL,CAAW,cAAX,EAA2BC,QAA3B,CAAoCC,KAAI,IAAK;AAC3C,YAAGA,KAAH,EAAS;AACP,eAAKnB,iBAAL,GAAuB,KAAvB,CADO,CAEP;;AACA,eAAKI,QAAL,CAAcF,QAAd,GAAuB,KAAKD,YAAL,CAAkBC,QAAzC;AACF;AACD,OAND;AAOF;;AAdO,GAxCI,CAwDb;AAEA;;AA1Da,CAAf","names":["EditableFormitem","Edit","components","name","data","phoneRules","info","pattern","message","emailRules","buttonOn","phoneEdit","dialogFormVisible","userPassword","password","checkPassword","userData","number","role","id","phone","email","stu_id","teach_id","major","college","methods","editPassword","submitPassword","$refs","validate","valid"],"sourceRoot":"","sources":["D:\\fdu\\software_engineering\\Lab\\5-Lab\\front_end\\src\\components\\PrivateinfoMaintnce.vue"],"sourcesContent":["<template>\r\n  <div class=\"descriptions-container\">\r\n    <el-form\r\n    label-width=\"120px\"\r\n    \r\n    :model=\"userData\"\r\n    >\r\n    <el-form-item label=\"姓名：\" class=\"form-label\" >\r\n      <span class=\"info-container\">{{userData.name}}</span>\r\n    </el-form-item>\r\n    <el-form-item label=\"学号：\" class=\"form-label\" >\r\n      <span class=\"info-container\">{{userData.number}}</span>\r\n    </el-form-item>\r\n    <el-form-item label=\"身份证：\" class=\"form-label\" >\r\n      <span class=\"info-container\">{{userData.id}}</span>\r\n    </el-form-item>\r\n    <el-form-item label=\"学院：\" class=\"form-label\" >\r\n      <span class=\"info-container\">{{userData.college.name}}</span>\r\n    </el-form-item>\r\n    <el-form-item label=\"专业：\" class=\"form-label\" >\r\n      <span class=\"info-container\">{{userData.major}}</span>\r\n    </el-form-item>\r\n\r\n    <editable-formitem label=\"电话：\" :data=\"userData.phone\" :rule=\"phoneRules\"></editable-formitem>\r\n    <editable-formitem label=\"邮箱：\" :data=\"userData.email\" :rule=\"emailRules\"></editable-formitem>\r\n    <el-form-item label=\"密码：\" class=\"form-label\" @mouseover=\"buttonOn=true\"\r\n        @mouseout=\"buttonOn=false\" >\r\n      <span class=\"info-container\">{{userData.password}}</span>\r\n\r\n      <el-button v-show=\"buttonOn\" type=\"text\" style=\"float:right\" @click=\"editPassword()\" >\r\n        编辑<el-icon class=\"el-icon--right\"><Edit /></el-icon>\r\n      </el-button>\r\n    </el-form-item>\r\n \r\n  </el-form>\r\n  <el-dialog v-model=\"dialogFormVisible\" title=\"修改密码\" :append-to-body=\"true\" >\r\n      \r\n        <el-form \r\n          ref=\"userPassword\" \r\n          :model=\"userPassword\" \r\n          :rules=\"rules\" \r\n          autocomplete=\"on\"  \r\n          text-align:center \r\n          hide-required-asterisk=true\r\n          >\r\n            <el-form-item prop=\"password\" label=\"新密码\">\r\n                <el-input type=\"text\" name=\"password\" v-model=\"user.password\"/>\r\n            </el-form-item>\r\n            <el-form-item prop=\"checkPassword\" label=\"确认密码\">\r\n                <el-input type=\"text\" name=\"password\" v-model=\"user.password\"/>\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n        <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible=false\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitPassword\">确认</el-button>\r\n        </span>\r\n        </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// eslint-disable-next-line \r\nimport EditableFormitem from './EditableFormitem.vue'\r\nimport {Edit} from '@element-plus/icons-vue'\r\nexport default {\r\n  components:{\r\n    EditableFormitem,\r\n    Edit\r\n  },\r\n  name: 'PrivateinfoMaintnce',\r\n  data() {\r\n    return {\r\n      phoneRules:{info:[{pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/, message: '手机号码必须为1开头的符合规则的11位数字'}]},\r\n      emailRules:{info:[{pattern: /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/, message: '邮箱地址不符合规则'}]},\r\n      buttonOn: false,\r\n      phoneEdit: false,\r\n      // checkPassword: '',\r\n      dialogFormVisible: false,\r\n      userPassword: {\r\n        password: '',\r\n        checkPassword: '',\r\n      },\r\n      userData: {\r\n        number: 220001,\r\n        role: 'student',\r\n        name: '张晓王',\r\n        id: '310111200201553211',\r\n        phone: '13301182222',\r\n        email: '123@qq.com',\r\n        stu_id: null,\r\n        teach_id: null,\r\n        password: '123456',\r\n        major: '软件工程班',\r\n        college: {              \r\n              id: 1,\r\n              name: '计算机科学技术学院', \r\n              major: [\r\n                  {id: 1, name: '大数据'},\r\n                  {id: 2, name: '信息安全'}\r\n                ]\r\n        },\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    editPassword() {\r\n      this.userPassword.password=''\r\n      this.userPassword.checkPassword=''\r\n      this.dialogFormVisible=true\r\n    },\r\n    submitPassword() {\r\n      this.$refs['userPassword'].validate(valid => {\r\n        if(valid){\r\n          this.dialogFormVisible=false\r\n          //axios\r\n          this.userData.password=this.userPassword.password\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // created: {\r\n\r\n  // }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.data-container{\r\n  min-width:200px;\r\n}\r\n/* .span-container{\r\n  width:100px;\r\n} */\r\n.descriptions-container{\r\n  width:600px;\r\n  margin:auto;\r\n  /* font-size:18px !important; */\r\n}\r\n.info-container{\r\n  min-width: 200px;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}